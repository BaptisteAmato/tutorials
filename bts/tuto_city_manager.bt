[
  {
    "version": "1.1.0"
  },
  {
    "metadata": {
      "label": "tuto_city_manager"
    },
    "properties": {},
    "children": [
      {
        "activated": true,
        "metadata": {
          "label": "",
          "itemTemplate": "BTSequenceNode.qml"
        },
        "properties": {},
        "children": [
          {
            "activated": true,
            "metadata": {
              "label": "",
              "itemTemplate": "BTSubscribeMessageNode.qml"
            },
            "properties": {
              "channel": {
                "type": "string",
                "value": "cityMgr"
              },
              "mode": "subscribe"
            },
            "children": [],
            "id": "c6d83c2b-c5d4-42fc-a244-d8911e161f6a",
            "type": "subscribeMessage"
          },
          {
            "activated": true,
            "metadata": {
              "label": "",
              "itemTemplate": "BTUntilNode.qml"
            },
            "properties": {
              "op1": {
                "type": "boolean",
                "value": "true"
              },
              "op2": {
                "type": "boolean",
                "value": "false"
              },
              "op": "=="
            },
            "children": [
              {
                "activated": true,
                "metadata": {
                  "label": "",
                  "itemTemplate": "BTSelectorPrio.qml"
                },
                "properties": {
                  "active": "true"
                },
                "children": [
                  {
                    "activated": true,
                    "metadata": {
                      "label": "",
                      "itemTemplate": "BTUntilNode.qml"
                    },
                    "properties": {
                      "op1": {
                        "type": "boolean",
                        "value": "true"
                      },
                      "op2": {
                        "type": "boolean",
                        "value": "false"
                      },
                      "op": "=="
                    },
                    "children": [
                      {
                        "activated": true,
                        "metadata": {
                          "label": "",
                          "itemTemplate": "BTSelectorPrio.qml"
                        },
                        "properties": {
                          "active": "false"
                        },
                        "children": [
                          {
                            "activated": true,
                            "metadata": {
                              "label": "",
                              "itemTemplate": "BTSequenceNode.qml"
                            },
                            "properties": {},
                            "children": [
                              {
                                "activated": true,
                                "metadata": {
                                  "label": "Fails if the \"capitals\" array is empty",
                                  "itemTemplate": "BTActionNode.qml"
                                },
                                "properties": {
                                  "name": "GetFirstElement",
                                  "inputParams": [
                                    {
                                      "key": "array",
                                      "type": "entityKnowledge",
                                      "value": "capitals"
                                    }
                                  ],
                                  "outputParams": [
                                    {
                                      "key": "element",
                                      "type": "entityKnowledge",
                                      "value": "nextCapital"
                                    },
                                    {
                                      "key": "capitals",
                                      "type": "entityKnowledge",
                                      "value": "capitals"
                                    }
                                  ]
                                },
                                "children": [],
                                "id": "3d7cab47-597b-425c-ba76-454438ff6cf9",
                                "type": "action"
                              },
                              {
                                "activated": true,
                                "metadata": {
                                  "label": "",
                                  "itemTemplate": "BTParallelNode.qml"
                                },
                                "properties": {
                                  "statusCondition": "failsIfAnyFails",
                                  "retryPolicy": "propagateToRunning"
                                },
                                "children": [
                                  {
                                    "activated": true,
                                    "metadata": {
                                      "label": "",
                                      "itemTemplate": "BTActionNode.qml"
                                    },
                                    "properties": {
                                      "name": "DisplayCityWeather",
                                      "inputParams": [
                                        {
                                          "key": "city",
                                          "type": "entityKnowledge",
                                          "value": "nextCapital.name"
                                        }
                                      ],
                                      "outputParams": []
                                    },
                                    "children": [],
                                    "id": "15401a6a-bddd-408c-9434-e6e156e7e025",
                                    "type": "action"
                                  },
                                  {
                                    "activated": true,
                                    "metadata": {
                                      "label": "",
                                      "itemTemplate": "BTActionNode.qml"
                                    },
                                    "properties": {
                                      "name": "DisplayCityThumbnail",
                                      "inputParams": [
                                        {
                                          "key": "city",
                                          "type": "entityKnowledge",
                                          "value": "nextCapital"
                                        }
                                      ],
                                      "outputParams": []
                                    },
                                    "children": [],
                                    "id": "696d9a4b-4c83-4cf4-aa19-cdd0968b36ea",
                                    "type": "action"
                                  }
                                ],
                                "id": "dff82afc-3517-4578-a97e-b49129010d7b",
                                "type": "parallel"
                              }
                            ],
                            "id": "d3517efe-fa2f-4945-bea6-bcec1cebe411",
                            "type": "sequence"
                          },
                          {
                            "activated": true,
                            "metadata": {
                              "label": "",
                              "itemTemplate": "BTSequenceNode.qml"
                            },
                            "properties": {},
                            "children": [
                              {
                                "activated": true,
                                "metadata": {
                                  "label": "",
                                  "itemTemplate": "BTActionNode.qml"
                                },
                                "properties": {
                                  "name": "Wait",
                                  "inputParams": [
                                    {
                                      "key": "time",
                                      "type": "real",
                                      "value": "1.5"
                                    }
                                  ],
                                  "outputParams": []
                                },
                                "children": [],
                                "id": "5bf6eff5-f8ad-441a-b1f0-351179e27502",
                                "type": "action"
                              },
                              {
                                "activated": true,
                                "metadata": {
                                  "label": "",
                                  "itemTemplate": "BTReceiveMessageNode.qml"
                                },
                                "properties": {
                                  "channel": {
                                    "type": "string",
                                    "value": "cityMgr"
                                  },
                                  "sender": "",
                                  "content": "results"
                                },
                                "children": [],
                                "id": "ebda6634-27e5-4034-9ac2-771b3478e50d",
                                "type": "receiveMessage"
                              },
                              {
                                "activated": true,
                                "metadata": {
                                  "label": "always succeeds",
                                  "itemTemplate": "BTActionNode.qml"
                                },
                                "properties": {
                                  "name": "GetCapitals",
                                  "inputParams": [
                                    {
                                      "key": "content",
                                      "type": "entityKnowledge",
                                      "value": "results.content"
                                    }
                                  ],
                                  "outputParams": [
                                    {
                                      "key": "capitals",
                                      "type": "entityKnowledge",
                                      "value": "capitals"
                                    }
                                  ]
                                },
                                "children": [],
                                "id": "14b1324b-5a51-4fa7-9db4-2a13bbc040d3",
                                "type": "action"
                              }
                            ],
                            "id": "c274589a-4f27-4e24-84ed-44739993766a",
                            "type": "sequence"
                          }
                        ],
                        "id": "f78f8abd-8c46-4ae2-b64c-9fd8fe40be1f",
                        "type": "priority"
                      }
                    ],
                    "id": "f4cb8191-d913-4bb8-9629-5272979a5a60",
                    "type": "until"
                  },
                  {
                    "activated": true,
                    "metadata": {
                      "label": "if anything fails, notify the Reddit Manager",
                      "itemTemplate": "BTSendMessageNode.qml"
                    },
                    "properties": {
                      "channel": {
                        "type": "string",
                        "value": "redditMgr"
                      },
                      "inputParams": []
                    },
                    "children": [],
                    "id": "862ba7f0-7a8f-4e85-b66b-c0f51887e993",
                    "type": "sendMessage"
                  },
                  {
                    "activated": true,
                    "metadata": {
                      "label": "",
                      "itemTemplate": "BTConditionNode.qml"
                    },
                    "properties": {
                      "op1": {
                        "type": "boolean",
                        "value": "true"
                      },
                      "op2": {
                        "type": "boolean",
                        "value": "true"
                      },
                      "op": "=="
                    },
                    "children": [],
                    "id": "2c77380e-dd40-49db-8979-3bb40e20d6d6",
                    "type": "condition"
                  }
                ],
                "id": "d194ca3a-b895-447a-a4c1-8fb82db5d973",
                "type": "priority"
              }
            ],
            "id": "7396e46c-ec89-438a-850a-b9581b0d313a",
            "type": "until"
          }
        ],
        "id": "e46bf722-7834-41d2-a1e3-fadfc0eee31f",
        "type": "sequence"
      }
    ],
    "id": "eee40b31-0e64-4c8b-a95e-5be7f22b01b5"
  }
]